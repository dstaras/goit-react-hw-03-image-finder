{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","value","this","setState","className","styled","SearchForm","onSubmit","e","preventDefault","props","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","onInputChange","target","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","images","onClick","webformatURL","tags","id","src","alt","ImageGalleryItemImage","width","height","ImageGallery","innerRef","Array","isArray","ref","map","image","Modal","onEsc","code","closeModal","handleBackdropClick","event","currentTarget","document","addEventListener","removeEventListener","imgId","imageId","find","styles","Overlay","ModalImage","largeImageURL","React","Button","ButtonContainer","Loader","LoaderContainer","color","App","data","page","query","showModal","activeImageId","loading","getImages","a","axios","get","response","hits","console","log","searchImages","keyword","loadMoreImages","openModal","galleryRef","createRef","current","offsetTop","scrollHeight","prevState","snapshot","window","scrollTo","top","behavior","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.74aedaa5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2qoWa\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3K8Z3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonContainer\":\"Button_ButtonContainer__3M82t\",\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoaderContainer\":\"Loader_LoaderContainer__tjhEu\"};","import React, { Component } from \"react\";\nimport styled from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass Searchbar extends Component {\n  state = {\n    value: \"\",\n  };\n\n  onInputChange(value) {\n    this.setState({ value: value });\n  }\n\n  render() {\n    return (\n      <header className={styled.Searchbar}>\n        <form\n          className={styled.SearchForm}\n          onSubmit={(e) => {\n            e.preventDefault();\n            this.props.onSubmit(this.state.value);\n          }}\n        >\n          <button type=\"submit\" className={styled.SearchFormButton}>\n            <span className={styled.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styled.SearchFormInput}\n            onChange={(e) => this.onInputChange(e.target.value)}\n            value={this.state.value}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from \"react\";\nimport styled from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ images, onClick }) => {\n  const { webformatURL, tags, id } = images;\n  return (\n    <li className={styled.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        onClick={() => onClick(id)}\n        className={styled.ImageGalleryItemImage}\n        width=\"300\"\n        height=\"200\"\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  images: PropTypes.object.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\nimport styled from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ images, onClick, innerRef }) => {\n  if (!Array.isArray(images)) {\n    return null;\n  }\n  return (\n    <ul className={styled.ImageGallery} ref={innerRef}>\n      {images.map((image) => {\n        return (\n          <ImageGalleryItem images={image} onClick={onClick} key={image.id} />\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  onClick: PropTypes.func.isRequired,\n  innerRef: PropTypes.object.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport styles from \"./Modal.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass Modal extends React.Component {\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.onEsc);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.onEsc);\n  }\n\n  onEsc = (e) => {\n    if (e.code === \"Escape\") {\n      e.preventDefault();\n      this.props.closeModal();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    const { images, imgId } = this.props;\n    const imageId = images.find((image) => {\n      return +image.id === +imgId;\n    });\n    return (\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>\n          <img\n            className={styles.ModalImage}\n            src={imageId.largeImageURL}\n            alt=\"\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={styled.ButtonContainer}>\n      <button className={styled.Button} type=\"button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import React from \"react\";\nimport LoaderSpinner from \"react-loader-spinner\";\nimport styles from \"./Loader.module.css\";\n\nconst Loader = () => {\n  return (\n    <div className={styles.LoaderContainer}>\n      <LoaderSpinner type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Modal from \"./components/Modal/Modal\";\nimport Button from \"./components/Button/Button\";\nimport Loader from \"./components/Loader/Loader\";\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    data: [],\n    page: 1,\n    query: \"\",\n    showModal: false,\n    activeImageId: 0,\n    loading: false,\n  };\n\n  constructor(props) {\n    super(props);\n    this.galleryRef = React.createRef();\n  }\n\n  getSnapshotBeforeUpdate() {\n    if (this.galleryRef && this.galleryRef.current) {\n      return (\n        this.galleryRef.current.offsetTop +\n        this.galleryRef.current.scrollHeight -\n        70\n      );\n    }\n  }\n\n  componentDidUpdate(prevState, snapshot) {\n    if (\n      this.state.data !== prevState.data &&\n      this.state.page !== 1 &&\n      snapshot\n    ) {\n      window.scrollTo({\n        top: snapshot,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  getImages = async () => {\n    try {\n      this.setState({ loading: false });\n      const response = await axios.get(\n        `https://pixabay.com/api/?q=${this.state.query}&page=${this.state.page}&key=22389576-6dc946f066e9adfceedfbeb2d&image_type=photo&orientation=horizontal&per_page=12`\n      );\n      this.setState({\n        data: [...this.state.data, ...response.data.hits],\n        loading: false,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  searchImages = (keyword) => {\n    if (keyword) {\n      return this.setState(\n        { query: keyword, data: [], page: 1 },\n        this.getImages\n      );\n    }\n  };\n\n  loadMoreImages = () => {\n    this.setState(({ page }) => ({ page: page + 1 }), this.getImages);\n    this.setState({ page: this.state.page + 1 });\n    this.setState({ loading: true });\n  };\n\n  openModal = (id) => {\n    this.setState({\n      showModal: true,\n      activeImageId: id,\n    });\n  };\n\n  closeModal = (e) => {\n    this.setState({\n      showModal: false,\n    });\n  };\n\n  render() {\n    const { data, showModal, activeImageId, loading } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.searchImages} />\n        {data ? (\n          <ImageGallery\n            innerRef={this.galleryRef}\n            images={data}\n            onClick={this.openModal}\n          />\n        ) : null}\n        {showModal && (\n          <Modal\n            images={data}\n            imgId={activeImageId}\n            closeModal={this.closeModal}\n          />\n        )}\n        {loading && <Loader />}\n        {data.length > 0 && <Button onClick={this.loadMoreImages} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\",\"ModalImage\":\"Modal_ModalImage__1MSl2\"};"],"sourceRoot":""}